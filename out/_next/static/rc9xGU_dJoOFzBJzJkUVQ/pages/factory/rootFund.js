(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+6Dn":function(e,t,a){"use strict";a("RIqP");var n=a("pVnL"),r=a.n(n),c=a("TSYQ"),s=a.n(c),o=(a("c31U"),a("q1tI")),l=a.n(o),i=a("ZeOK"),d=a("ICNK"),u=a("Y53p"),b=a("MZgk");function p(e){var t=e.children,a=e.className,n=e.computer,c=e.color,o=e.floated,b=e.largeScreen,h=e.mobile,g=e.only,v=e.stretched,O=e.tablet,j=e.textAlign,f=e.verticalAlign,m=e.widescreen,w=e.width,y=s()(c,Object(i.a)(v,"stretched"),Object(i.c)(g,"only"),Object(i.d)(j),Object(i.e)(o,"floated"),Object(i.f)(f),Object(i.g)(n,"wide computer"),Object(i.g)(b,"wide large screen"),Object(i.g)(h,"wide mobile"),Object(i.g)(O,"wide tablet"),Object(i.g)(m,"wide widescreen"),Object(i.g)(w,"wide"),"column",a),x=Object(d.a)(p,e),A=Object(u.a)(p,e);return l.a.createElement(A,r()({},x,{className:y}),t)}p.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],p.propTypes={},p.create=Object(b.f)(p,(function(e){return{children:e}}));var h=p;function g(e){var t=e.centered,a=e.children,n=e.className,c=e.color,o=e.columns,b=e.divided,p=e.only,h=e.reversed,v=e.stretched,O=e.textAlign,j=e.verticalAlign,f=s()(c,Object(i.a)(t,"centered"),Object(i.a)(b,"divided"),Object(i.a)(v,"stretched"),Object(i.c)(p,"only"),Object(i.c)(h,"reversed"),Object(i.d)(O),Object(i.f)(j),Object(i.g)(o,"column",!0),"row",n),m=Object(d.a)(g,e),w=Object(u.a)(g,e);return l.a.createElement(w,r()({},m,{className:f}),a)}g.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],g.propTypes={};var v=g;function O(e){var t=e.celled,a=e.centered,n=e.children,c=e.className,o=e.columns,b=e.container,p=e.divided,h=e.doubling,g=e.inverted,v=e.padded,j=e.relaxed,f=e.reversed,m=e.stackable,w=e.stretched,y=e.textAlign,x=e.verticalAlign,A=s()("ui",Object(i.a)(a,"centered"),Object(i.a)(b,"container"),Object(i.a)(h,"doubling"),Object(i.a)(g,"inverted"),Object(i.a)(m,"stackable"),Object(i.a)(w,"stretched"),Object(i.b)(t,"celled"),Object(i.b)(p,"divided"),Object(i.b)(v,"padded"),Object(i.b)(j,"relaxed"),Object(i.c)(f,"reversed"),Object(i.d)(y),Object(i.f)(x),Object(i.g)(o,"column",!0),"grid",c),C=Object(d.a)(O,e),k=Object(u.a)(O,e);return l.a.createElement(k,r()({},C,{className:A}),n)}O.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],O.Column=h,O.Row=v,O.propTypes={};t.a=O},"8PtH":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/factory/rootFund",function(){return a("B2pv")}])},B2pv:function(e,t,a){"use strict";a.r(t);var n=a("ln6h"),r=a.n(n),c=a("0iUn"),s=a("sLSF"),o=a("MI3g"),l=a("a7VT"),i=a("Tit0"),d=a("q1tI"),u=a.n(d),b=a("QetY"),p=a("z8k1"),h=a("+6Dn"),g=a("3mGJ"),v=a("OIDg"),O=a("CafY"),j=a("8cHP"),f=a("C5IR"),m=a("AT/M"),w=a("vYYK"),y=a("fuXp"),x=a("vFsZ"),A=a("umxb"),C=a("TbSc"),k=a("oZBQ"),S=a("vDqi"),M=a.n(S),N=u.a.createElement,F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s))),Object(w.a)(Object(m.a)(a),"state",{loading:!1,errorMessage:"",value:"",description:"",showModal:!1,success:!1}),Object(w.a)(Object(m.a)(a),"closeModal",(function(){a.setState({showModal:!1})})),Object(w.a)(Object(m.a)(a),"onSubmit",(function(e){var t,n;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e.preventDefault(),a.setState({loading:!0,errorMessage:""}),t=!1,c.prev=3,c.next=6,r.a.awrap(k.a.eth.getAccounts());case 6:return n=c.sent,c.next=9,r.a.awrap(M.a.get("http://54.191.195.43:9999/users/"+n[0]));case 9:return t=!0,console.log("accounts=:",n[0]),c.next=13,r.a.awrap(v.a.methods.createRootNode(a.state.description,a.state.value).send({from:n[0]}));case 13:a.setState({value:"",description:"",success:!0}),j.Router.replaceRoute("/factory/rootFund"),c.next=20;break;case 17:c.prev=17,c.t0=c.catch(3),t?a.setState({errorMessage:c.t0.message}):a.setState({errorMessage:"User must be registered first, please register yourself "});case 20:a.setState({loading:!1});case 21:case"end":return c.stop()}}),null,null,[[3,17]])})),a}return Object(i.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return N(y.a,{onClose:this.closeModal,open:this.state.showModal,trigger:N(b.a,{onClick:function(){e.setState({showModal:!0})},style:{marginTop:10},content:"Create Root Fund",icon:"add circle",primary:!0})},N(y.a.Header,null,"Create Root Fund"),N(y.a.Content,null,N(y.a.Description,null,N(x.a,{onSubmit:this.onSubmit,error:!!this.state.errorMessage},N(x.a.Field,null,N("label",null,"Description"),N(A.a,{value:this.state.description,onChange:function(t){return e.setState({description:t.target.value,success:!1})}}),N("label",{style:{marginTop:15}},"Initial amount to Inject"),N(A.a,{label:"GovEth",labelPosition:"right",value:this.state.value,onChange:function(t){return e.setState({value:t.target.value,success:!1})}})),N(C.a,{error:!0,header:"Oops!",content:this.state.errorMessage}),N(b.a,{primary:!0,loading:this.state.loading},"Create")),this.state.success?N(C.a,{success:!0,header:"Congrats!",content:"New Root Fund is deployed."}):null)))}}]),t}(d.Component),P=u.a.createElement,R=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(s.a)(t,[{key:"renderFunds",value:function(e){var t=this,a=this.props.funds.map((function(a,n){return{header:a,description:P("div",null,t.props.briefs[n]," ",P("br",null),P(j.Link,{route:"fundDetails",params:{contractAddress:a}},P(b.a,{basic:!0,onClick:e},P("a",null,"View Fund")))),fluid:!0}}));return P(p.a.Group,{items:a})}},{key:"render",value:function(){var e=this;return P(O.a,{render:function(t){var a=t.setLoading;t.setNotLoading;return P("div",null,P(h.a,null,P(h.a.Row,null,P(h.a.Column,{width:12},P(g.a,{textAlign:"center",inverted:!0,color:"grey"},P("h3",null,"Parent Funds"))),P(h.a.Column,{width:4},P(g.a,{textAlign:"center",inverted:!0,color:"grey"},P("h3",null,"Actions"))))),P(h.a,null,P(h.a.Row,null,P(h.a.Column,{width:12},P(g.a,{textAlign:"center"},e.renderFunds(a))),P(h.a.Column,{width:4},P(g.a,{textAlign:"center"},P(F,{rootFunds:e.props.funds}))))))}})}}],[{key:"getInitialProps",value:function(){var e,t,a,n;return r.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,r.a.awrap(v.a.methods.getDeployedRoots().call());case 2:(e=c.sent).reverse(),t=[],a=0;case 6:if(!(a<e.length)){c.next=14;break}return n=Object(f.a)(e[a]),c.next=10,r.a.awrap(n.methods.briefDescription().call());case 10:t[a]=c.sent;case 11:a++,c.next=6;break;case 14:return c.abrupt("return",{funds:e,briefs:t});case 15:case"end":return c.stop()}}))}}]),t}(d.Component);t.default=R}},[["8PtH",1,2,0,3,4,5,6]]]);